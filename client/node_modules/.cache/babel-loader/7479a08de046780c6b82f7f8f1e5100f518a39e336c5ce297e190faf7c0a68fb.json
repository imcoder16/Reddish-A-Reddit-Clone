{"ast":null,"code":"import _regeneratorRuntime from\"C:/Ak/E/reddish-master/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Ak/E/reddish-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{setUser}from'./reducers/userReducer';import{fetchPosts}from'./reducers/postReducer';import{setSubList,setTopSubsList}from'./reducers/subReducer';import{setDarkMode}from'./reducers/themeReducer';import{notify}from'./reducers/notificationReducer';import NavBar from'./components/NavBar';import ToastNotif from'./components/ToastNotif';import Routes from'./Routes';import getErrorMsg from'./utils/getErrorMsg';import{Paper}from'@material-ui/core/';import customTheme from'./styles/customTheme';import{useMainPaperStyles}from'./styles/muiStyles';import{ThemeProvider}from'@material-ui/core/styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var classes=useMainPaperStyles();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state;}),darkMode=_useSelector.darkMode;useEffect(function(){var setPostsAndSubreddits=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return dispatch(fetchPosts('hot'));case 3:_context.next=5;return dispatch(setSubList());case 5:_context.next=7;return dispatch(setTopSubsList());case 7:_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);dispatch(notify(getErrorMsg(_context.t0),'error'));case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function setPostsAndSubreddits(){return _ref.apply(this,arguments);};}();dispatch(setUser());dispatch(setDarkMode());setPostsAndSubreddits();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsx(ThemeProvider,{theme:customTheme(darkMode),children:/*#__PURE__*/_jsxs(Paper,{className:classes.root,elevation:0,children:[/*#__PURE__*/_jsx(ToastNotif,{}),/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(Routes,{})]})});};export default App;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","setUser","fetchPosts","setSubList","setTopSubsList","setDarkMode","notify","NavBar","ToastNotif","Routes","getErrorMsg","Paper","customTheme","useMainPaperStyles","ThemeProvider","jsx","_jsx","jsxs","_jsxs","App","classes","dispatch","_useSelector","state","darkMode","setPostsAndSubreddits","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","t0","stop","apply","arguments","theme","children","className","root","elevation"],"sources":["C:/Ak/E/reddish-master/client/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setUser } from './reducers/userReducer';\nimport { fetchPosts } from './reducers/postReducer';\nimport { setSubList, setTopSubsList } from './reducers/subReducer';\nimport { setDarkMode } from './reducers/themeReducer';\nimport { notify } from './reducers/notificationReducer';\nimport NavBar from './components/NavBar';\nimport ToastNotif from './components/ToastNotif';\nimport Routes from './Routes';\nimport getErrorMsg from './utils/getErrorMsg';\n\nimport { Paper } from '@material-ui/core/';\nimport customTheme from './styles/customTheme';\nimport { useMainPaperStyles } from './styles/muiStyles';\nimport { ThemeProvider } from '@material-ui/core/styles';\n\nconst App = () => {\n  const classes = useMainPaperStyles();\n  const dispatch = useDispatch();\n  const { darkMode } = useSelector((state) => state);\n\n  useEffect(() => {\n    const setPostsAndSubreddits = async () => {\n      try {\n        await dispatch(fetchPosts('hot'));\n        await dispatch(setSubList());\n        await dispatch(setTopSubsList());\n      } catch (err) {\n        dispatch(notify(getErrorMsg(err), 'error'));\n      }\n    };\n\n    dispatch(setUser());\n    dispatch(setDarkMode());\n    setPostsAndSubreddits();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <ThemeProvider theme={customTheme(darkMode)}>\n      <Paper className={classes.root} elevation={0}>\n        <ToastNotif />\n        <NavBar />\n        <Routes />\n      </Paper>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n"],"mappings":"sPAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,OAAO,KAAQ,wBAAwB,CAChD,OAASC,UAAU,KAAQ,wBAAwB,CACnD,OAASC,UAAU,CAAEC,cAAc,KAAQ,uBAAuB,CAClE,OAASC,WAAW,KAAQ,yBAAyB,CACrD,OAASC,MAAM,KAAQ,gCAAgC,CACvD,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAE7C,OAASC,KAAK,KAAQ,oBAAoB,CAC1C,MAAO,CAAAC,WAAW,KAAM,sBAAsB,CAC9C,OAASC,kBAAkB,KAAQ,oBAAoB,CACvD,OAASC,aAAa,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzD,GAAM,CAAAC,GAAG,CAAG,QAAN,CAAAA,GAAGA,CAAA,CAAS,CAChB,GAAM,CAAAC,OAAO,CAAGP,kBAAkB,EAAE,CACpC,GAAM,CAAAQ,QAAQ,CAAGtB,WAAW,EAAE,CAC9B,IAAAuB,YAAA,CAAqBtB,WAAW,CAAC,SAACuB,KAAK,QAAK,CAAAA,KAAK,GAAC,CAA1CC,QAAQ,CAAAF,YAAA,CAARE,QAAQ,CAEhB1B,SAAS,CAAC,UAAM,CACd,GAAM,CAAA2B,qBAAqB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEpB,CAAAd,QAAQ,CAACnB,UAAU,CAAC,KAAK,CAAC,CAAC,QAAA+B,QAAA,CAAAE,IAAA,SAC3B,CAAAd,QAAQ,CAAClB,UAAU,EAAE,CAAC,QAAA8B,QAAA,CAAAE,IAAA,SACtB,CAAAd,QAAQ,CAACjB,cAAc,EAAE,CAAC,QAAA6B,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAG,EAAA,CAAAH,QAAA,aAEhCZ,QAAQ,CAACf,MAAM,CAACI,WAAW,CAAAuB,QAAA,CAAAG,EAAA,CAAK,CAAE,OAAO,CAAC,CAAC,CAAC,yBAAAH,QAAA,CAAAI,IAAA,MAAAP,OAAA,gBAE/C,kBARK,CAAAL,qBAAqBA,CAAA,SAAAC,IAAA,CAAAY,KAAA,MAAAC,SAAA,OAQ1B,CAEDlB,QAAQ,CAACpB,OAAO,EAAE,CAAC,CACnBoB,QAAQ,CAAChB,WAAW,EAAE,CAAC,CACvBoB,qBAAqB,EAAE,CACvB;AACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACET,IAAA,CAACF,aAAa,EAAC0B,KAAK,CAAE5B,WAAW,CAACY,QAAQ,CAAE,CAAAiB,QAAA,cAC1CvB,KAAA,CAACP,KAAK,EAAC+B,SAAS,CAAEtB,OAAO,CAACuB,IAAK,CAACC,SAAS,CAAE,CAAE,CAAAH,QAAA,eAC3CzB,IAAA,CAACR,UAAU,IAAG,cACdQ,IAAA,CAACT,MAAM,IAAG,cACVS,IAAA,CAACP,MAAM,IAAG,GACJ,EACM,CAEpB,CAAC,CAED,cAAe,CAAAU,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}