{"ast":null,"code":"import _regeneratorRuntime from\"C:/Ak/E/reddish-master/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Ak/E/reddish-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import backendUrl from'../backendUrl';import{token}from'./auth';var baseUrl=\"\".concat(backendUrl,\"/api/users\");var setConfig=function setConfig(){return{headers:{'x-auth-token':token}};};var getUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(username,limit,page){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(baseUrl,\"/\").concat(username,\"/?limit=\").concat(limit,\"&page=\").concat(page));case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function getUser(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var uploadAvatar=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(avatarObj){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"\".concat(baseUrl,\"/avatar\"),avatarObj,setConfig());case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}},_callee2);}));return function uploadAvatar(_x4){return _ref2.apply(this,arguments);};}();var removeAvatar=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"\".concat(baseUrl,\"/avatar\"),setConfig());case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}},_callee3);}));return function removeAvatar(){return _ref3.apply(this,arguments);};}();var userService={getUser:getUser,uploadAvatar:uploadAvatar,removeAvatar:removeAvatar};export default userService;","map":{"version":3,"names":["axios","backendUrl","token","baseUrl","concat","setConfig","headers","getUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","username","limit","page","response","wrap","_callee$","_context","prev","next","get","sent","abrupt","data","stop","_x","_x2","_x3","apply","arguments","uploadAvatar","_ref2","_callee2","avatarObj","_callee2$","_context2","post","_x4","removeAvatar","_ref3","_callee3","_callee3$","_context3","delete","userService"],"sources":["C:/Ak/E/reddish-master/client/src/services/user.js"],"sourcesContent":["import axios from 'axios';\nimport backendUrl from '../backendUrl';\nimport { token } from './auth';\n\nconst baseUrl = `${backendUrl}/api/users`;\n\nconst setConfig = () => {\n  return {\n    headers: { 'x-auth-token': token },\n  };\n};\n\nconst getUser = async (username, limit, page) => {\n  const response = await axios.get(\n    `${baseUrl}/${username}/?limit=${limit}&page=${page}`\n  );\n  return response.data;\n};\n\nconst uploadAvatar = async (avatarObj) => {\n  const response = await axios.post(\n    `${baseUrl}/avatar`,\n    avatarObj,\n    setConfig()\n  );\n  return response.data;\n};\n\nconst removeAvatar = async () => {\n  const response = await axios.delete(`${baseUrl}/avatar`, setConfig());\n  return response.data;\n};\n\nconst userService = { getUser, uploadAvatar, removeAvatar };\n\nexport default userService;\n"],"mappings":"sPAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,eAAe,CACtC,OAASC,KAAK,KAAQ,QAAQ,CAE9B,GAAM,CAAAC,OAAO,IAAAC,MAAA,CAAMH,UAAU,cAAY,CAEzC,GAAM,CAAAI,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,MAAO,CACLC,OAAO,CAAE,CAAE,cAAc,CAAEJ,KAAM,CACnC,CAAC,CACH,CAAC,CAED,GAAM,CAAAK,OAAO,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,QAAQ,CAAEC,KAAK,CAAEC,IAAI,MAAAC,QAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACnB,CAAArB,KAAK,CAACsB,GAAG,IAAAlB,MAAA,CAC3BD,OAAO,MAAAC,MAAA,CAAIS,QAAQ,aAAAT,MAAA,CAAWU,KAAK,WAAAV,MAAA,CAASW,IAAI,EACpD,QAFKC,QAAQ,CAAAG,QAAA,CAAAI,IAAA,QAAAJ,QAAA,CAAAK,MAAA,UAGPR,QAAQ,CAACS,IAAI,0BAAAN,QAAA,CAAAO,IAAA,MAAAd,OAAA,GACrB,kBALK,CAAAL,OAAOA,CAAAoB,EAAA,CAAAC,GAAA,CAAAC,GAAA,SAAArB,IAAA,CAAAsB,KAAA,MAAAC,SAAA,OAKZ,CAED,GAAM,CAAAC,YAAY,6BAAAC,KAAA,CAAAxB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAuB,SAAOC,SAAS,MAAAnB,QAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAmB,UAAAC,SAAA,iBAAAA,SAAA,CAAAjB,IAAA,CAAAiB,SAAA,CAAAhB,IAAA,SAAAgB,SAAA,CAAAhB,IAAA,SACZ,CAAArB,KAAK,CAACsC,IAAI,IAAAlC,MAAA,CAC5BD,OAAO,YACVgC,SAAS,CACT9B,SAAS,EAAE,CACZ,QAJKW,QAAQ,CAAAqB,SAAA,CAAAd,IAAA,QAAAc,SAAA,CAAAb,MAAA,UAKPR,QAAQ,CAACS,IAAI,0BAAAY,SAAA,CAAAX,IAAA,MAAAQ,QAAA,GACrB,kBAPK,CAAAF,YAAYA,CAAAO,GAAA,SAAAN,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAOjB,CAED,GAAM,CAAAS,YAAY,6BAAAC,KAAA,CAAAhC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA+B,SAAA,MAAA1B,QAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAA0B,UAAAC,SAAA,iBAAAA,SAAA,CAAAxB,IAAA,CAAAwB,SAAA,CAAAvB,IAAA,SAAAuB,SAAA,CAAAvB,IAAA,SACI,CAAArB,KAAK,CAAC6C,MAAM,IAAAzC,MAAA,CAAID,OAAO,YAAWE,SAAS,EAAE,CAAC,QAA/DW,QAAQ,CAAA4B,SAAA,CAAArB,IAAA,QAAAqB,SAAA,CAAApB,MAAA,UACPR,QAAQ,CAACS,IAAI,0BAAAmB,SAAA,CAAAlB,IAAA,MAAAgB,QAAA,GACrB,kBAHK,CAAAF,YAAYA,CAAA,SAAAC,KAAA,CAAAX,KAAA,MAAAC,SAAA,OAGjB,CAED,GAAM,CAAAe,WAAW,CAAG,CAAEvC,OAAO,CAAPA,OAAO,CAAEyB,YAAY,CAAZA,YAAY,CAAEQ,YAAY,CAAZA,YAAa,CAAC,CAE3D,cAAe,CAAAM,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}