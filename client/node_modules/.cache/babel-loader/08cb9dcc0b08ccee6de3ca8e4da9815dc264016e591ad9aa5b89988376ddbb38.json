{"ast":null,"code":"import _slicedToArray from\"C:/Ak/E/reddish-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link as RouterLink}from'react-router-dom';import AuthFormModal from'./AuthFormModal';import SubFormModal from'./SubFormModal';import UpdateAvatarModal from'./UpdateAvatarModal';import DarkModeMenuItem from'./DarkModeMenuItem';import{getCircularAvatar}from'../utils/cloudinaryTransform';import storageService from'../utils/localStorage';import{IconButton,Menu,MenuItem,Avatar,ListItemIcon,Divider}from'@material-ui/core';import{useUserMenuStyles}from'../styles/muiStyles';import MoreVertIcon from'@material-ui/icons/MoreVert';import AccountCircleIcon from'@material-ui/icons/AccountCircle';import PowerSettingsNewIcon from'@material-ui/icons/PowerSettingsNew';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MobileUserMenu=function MobileUserMenu(_ref){var _loggedUser$avatar;var user=_ref.user,handleLogout=_ref.handleLogout;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),anchorEl=_useState2[0],setAnchorEl=_useState2[1];var classes=useUserMenuStyles();var handleMenu=function handleMenu(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var handleLogoutClick=function handleLogoutClick(){handleClose();handleLogout();};var loggedUser=storageService.loadUser()||user;return/*#__PURE__*/_jsxs(\"div\",{children:[loggedUser?/*#__PURE__*/_jsxs(IconButton,{onClick:handleMenu,className:classes.userBtnMob,children:[loggedUser!==null&&loggedUser!==void 0&&(_loggedUser$avatar=loggedUser.avatar)!==null&&_loggedUser$avatar!==void 0&&_loggedUser$avatar.exists?/*#__PURE__*/_jsx(Avatar,{alt:loggedUser.username,src:getCircularAvatar(loggedUser.avatar.imageLink),className:classes.avatar}):/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:loggedUser.username[0]}),/*#__PURE__*/_jsx(MoreVertIcon,{color:\"primary\"})]}):/*#__PURE__*/_jsx(IconButton,{onClick:handleMenu,color:\"primary\",children:/*#__PURE__*/_jsx(MoreVertIcon,{color:\"primary\"})}),/*#__PURE__*/_jsx(Menu,{anchorEl:anchorEl,anchorOrigin:{vertical:'top',horizontal:'right'},keepMounted:true,transformOrigin:{vertical:'top',horizontal:'right'},open:Boolean(anchorEl),onClose:handleClose,children:loggedUser?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MenuItem,{component:RouterLink,to:\"/u/\".concat(loggedUser.username),onClick:handleClose,children:/*#__PURE__*/_jsxs(ListItemIcon,{children:[/*#__PURE__*/_jsx(AccountCircleIcon,{style:{marginRight:7}}),\" My Profile\"]})}),/*#__PURE__*/_jsx(SubFormModal,{type:\"menu\",handleCloseMenu:handleClose}),/*#__PURE__*/_jsx(UpdateAvatarModal,{handleCloseMenu:handleClose,user:loggedUser}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleLogoutClick,children:/*#__PURE__*/_jsxs(ListItemIcon,{children:[/*#__PURE__*/_jsx(PowerSettingsNewIcon,{style:{marginRight:7}}),\" Logout\"]})}),/*#__PURE__*/_jsx(Divider,{variant:\"middle\"}),/*#__PURE__*/_jsx(DarkModeMenuItem,{closeMenu:handleClose})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AuthFormModal,{closeMobileMenu:handleClose}),/*#__PURE__*/_jsx(Divider,{variant:\"middle\"}),/*#__PURE__*/_jsx(DarkModeMenuItem,{closeMenu:handleClose})]})})]});};export default MobileUserMenu;","map":{"version":3,"names":["React","useState","Link","RouterLink","AuthFormModal","SubFormModal","UpdateAvatarModal","DarkModeMenuItem","getCircularAvatar","storageService","IconButton","Menu","MenuItem","Avatar","ListItemIcon","Divider","useUserMenuStyles","MoreVertIcon","AccountCircleIcon","PowerSettingsNewIcon","jsx","_jsx","jsxs","_jsxs","MobileUserMenu","_ref","_loggedUser$avatar","user","handleLogout","_useState","_useState2","_slicedToArray","anchorEl","setAnchorEl","classes","handleMenu","event","currentTarget","handleClose","handleLogoutClick","loggedUser","loadUser","children","onClick","className","userBtnMob","avatar","exists","alt","username","src","imageLink","color","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","component","to","concat","style","marginRight","type","handleCloseMenu","variant","closeMenu","closeMobileMenu"],"sources":["C:/Ak/E/reddish-master/client/src/components/MobileUserMenu.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport AuthFormModal from './AuthFormModal';\nimport SubFormModal from './SubFormModal';\nimport UpdateAvatarModal from './UpdateAvatarModal';\nimport DarkModeMenuItem from './DarkModeMenuItem';\nimport { getCircularAvatar } from '../utils/cloudinaryTransform';\nimport storageService from '../utils/localStorage';\n\nimport {\n  IconButton,\n  Menu,\n  MenuItem,\n  Avatar,\n  ListItemIcon,\n  Divider,\n} from '@material-ui/core';\nimport { useUserMenuStyles } from '../styles/muiStyles';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\n\nconst MobileUserMenu = ({ user, handleLogout }) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const classes = useUserMenuStyles();\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogoutClick = () => {\n    handleClose();\n    handleLogout();\n  };\n\n  const loggedUser = storageService.loadUser() || user;\n\n  return (\n    <div>\n      {loggedUser ? (\n        <IconButton onClick={handleMenu} className={classes.userBtnMob}>\n          {loggedUser?.avatar?.exists ? (\n            <Avatar\n              alt={loggedUser.username}\n              src={getCircularAvatar(loggedUser.avatar.imageLink)}\n              className={classes.avatar}\n            />\n          ) : (\n            <Avatar className={classes.avatar}>{loggedUser.username[0]}</Avatar>\n          )}\n          <MoreVertIcon color=\"primary\" />\n        </IconButton>\n      ) : (\n        <IconButton onClick={handleMenu} color=\"primary\">\n          <MoreVertIcon color=\"primary\" />\n        </IconButton>\n      )}\n      <Menu\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        keepMounted\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        {loggedUser ? (\n          <div>\n            <MenuItem\n              component={RouterLink}\n              to={`/u/${loggedUser.username}`}\n              onClick={handleClose}\n            >\n              <ListItemIcon>\n                <AccountCircleIcon style={{ marginRight: 7 }} /> My Profile\n              </ListItemIcon>\n            </MenuItem>\n            <SubFormModal type=\"menu\" handleCloseMenu={handleClose} />\n            <UpdateAvatarModal\n              handleCloseMenu={handleClose}\n              user={loggedUser}\n            />\n            <MenuItem onClick={handleLogoutClick}>\n              <ListItemIcon>\n                <PowerSettingsNewIcon style={{ marginRight: 7 }} /> Logout\n              </ListItemIcon>\n            </MenuItem>\n            <Divider variant=\"middle\" />\n            <DarkModeMenuItem closeMenu={handleClose} />\n          </div>\n        ) : (\n          <div>\n            <AuthFormModal closeMobileMenu={handleClose} />\n            <Divider variant=\"middle\" />\n            <DarkModeMenuItem closeMenu={handleClose} />\n          </div>\n        )}\n      </Menu>\n    </div>\n  );\n};\n\nexport default MobileUserMenu;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}