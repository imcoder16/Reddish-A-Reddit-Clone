{"ast":null,"code":"var _jsxFileName = \"C:\\\\Ak\\\\E\\\\reddish-master\\\\client\\\\src\\\\components\\\\ReplyAndButtons.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { editReply, deleteReply } from '../reducers/postCommentsReducer';\nimport { notify } from '../reducers/notificationReducer';\nimport DeleteDialog from './DeleteDialog';\nimport getErrorMsg from '../utils/getErrorMsg';\nimport { TextField, Button, Typography } from '@material-ui/core';\nimport { useCommentAndBtnsStyles } from '../styles/muiStyles';\nimport SendIcon from '@material-ui/icons/Send';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReplyAndButtons = _ref => {\n  _s();\n  let {\n    isMobile,\n    reply,\n    postId,\n    commentId,\n    user\n  } = _ref;\n  const [editOpen, setEditOpen] = useState(false);\n  const [editInput, setEditInput] = useState(reply.replyBody);\n  const [submitting, setSubmitting] = useState(false);\n  const dispatch = useDispatch();\n  const classes = useCommentAndBtnsStyles();\n  const handleEditReply = async () => {\n    try {\n      setSubmitting(true);\n      await dispatch(editReply(postId, commentId, reply.id, editInput));\n      setSubmitting(false);\n      setEditOpen(false);\n      dispatch(notify(`Reply edited!`, 'success'));\n    } catch (err) {\n      setSubmitting(false);\n      dispatch(notify(getErrorMsg(err), 'error'));\n    }\n  };\n  const handleReplyDelete = async () => {\n    try {\n      await dispatch(deleteReply(postId, commentId, reply.id));\n      dispatch(notify(`Reply deleted!`, 'success'));\n    } catch (err) {\n      dispatch(notify(getErrorMsg(err), 'error'));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [!editOpen ? /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      children: reply.replyBody\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.inputDiv,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        multiline: true,\n        required: true,\n        fullWidth: true,\n        rows: 2,\n        rowsMax: Infinity,\n        value: editInput,\n        onChange: e => setEditInput(e.target.value),\n        variant: \"outlined\",\n        size: isMobile ? 'small' : 'medium'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.submitBtns,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setEditOpen(false),\n          color: \"primary\",\n          variant: \"outlined\",\n          size: \"small\",\n          className: classes.cancelBtn,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleEditReply,\n          color: \"primary\",\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 26\n          }, this),\n          size: \"small\",\n          disabled: submitting,\n          children: submitting ? 'Updating' : 'Update'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), user && user.id === reply.repliedBy.id && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.btnBar,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        color: \"inherit\",\n        startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 24\n        }, this),\n        className: classes.btnStyle,\n        onClick: () => setEditOpen(prevState => !prevState),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DeleteDialog, {\n        type: \"comment\",\n        handleDelete: handleReplyDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(ReplyAndButtons, \"v/kHY3EwBkFJAzaSmp0L1I5dMDc=\", false, function () {\n  return [useDispatch, useCommentAndBtnsStyles];\n});\n_c = ReplyAndButtons;\nexport default ReplyAndButtons;\nvar _c;\n$RefreshReg$(_c, \"ReplyAndButtons\");","map":{"version":3,"names":["React","useState","useDispatch","editReply","deleteReply","notify","DeleteDialog","getErrorMsg","TextField","Button","Typography","useCommentAndBtnsStyles","SendIcon","EditIcon","jsxDEV","_jsxDEV","ReplyAndButtons","_ref","_s","isMobile","reply","postId","commentId","user","editOpen","setEditOpen","editInput","setEditInput","replyBody","submitting","setSubmitting","dispatch","classes","handleEditReply","id","err","handleReplyDelete","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","className","inputDiv","multiline","required","fullWidth","rows","rowsMax","Infinity","value","onChange","e","target","size","submitBtns","onClick","color","cancelBtn","startIcon","disabled","repliedBy","btnBar","btnStyle","prevState","type","handleDelete","_c","$RefreshReg$"],"sources":["C:/Ak/E/reddish-master/client/src/components/ReplyAndButtons.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { editReply, deleteReply } from '../reducers/postCommentsReducer';\nimport { notify } from '../reducers/notificationReducer';\nimport DeleteDialog from './DeleteDialog';\nimport getErrorMsg from '../utils/getErrorMsg';\n\nimport { TextField, Button, Typography } from '@material-ui/core';\nimport { useCommentAndBtnsStyles } from '../styles/muiStyles';\nimport SendIcon from '@material-ui/icons/Send';\nimport EditIcon from '@material-ui/icons/Edit';\n\nconst ReplyAndButtons = ({ isMobile, reply, postId, commentId, user }) => {\n  const [editOpen, setEditOpen] = useState(false);\n  const [editInput, setEditInput] = useState(reply.replyBody);\n  const [submitting, setSubmitting] = useState(false);\n  const dispatch = useDispatch();\n  const classes = useCommentAndBtnsStyles();\n\n  const handleEditReply = async () => {\n    try {\n      setSubmitting(true);\n      await dispatch(editReply(postId, commentId, reply.id, editInput));\n      setSubmitting(false);\n      setEditOpen(false);\n      dispatch(notify(`Reply edited!`, 'success'));\n    } catch (err) {\n      setSubmitting(false);\n      dispatch(notify(getErrorMsg(err), 'error'));\n    }\n  };\n\n  const handleReplyDelete = async () => {\n    try {\n      await dispatch(deleteReply(postId, commentId, reply.id));\n      dispatch(notify(`Reply deleted!`, 'success'));\n    } catch (err) {\n      dispatch(notify(getErrorMsg(err), 'error'));\n    }\n  };\n\n  return (\n    <div>\n      {!editOpen ? (\n        <Typography variant=\"body2\">{reply.replyBody}</Typography>\n      ) : (\n        <div className={classes.inputDiv}>\n          <TextField\n            multiline\n            required\n            fullWidth\n            rows={2}\n            rowsMax={Infinity}\n            value={editInput}\n            onChange={(e) => setEditInput(e.target.value)}\n            variant=\"outlined\"\n            size={isMobile ? 'small' : 'medium'}\n          />\n          <div className={classes.submitBtns}>\n            <Button\n              onClick={() => setEditOpen(false)}\n              color=\"primary\"\n              variant=\"outlined\"\n              size=\"small\"\n              className={classes.cancelBtn}\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleEditReply}\n              color=\"primary\"\n              variant=\"contained\"\n              startIcon={<SendIcon />}\n              size=\"small\"\n              disabled={submitting}\n            >\n              {submitting ? 'Updating' : 'Update'}\n            </Button>\n          </div>\n        </div>\n      )}\n      {user && user.id === reply.repliedBy.id && (\n        <div className={classes.btnBar}>\n          <Button\n            size=\"small\"\n            color=\"inherit\"\n            startIcon={<EditIcon />}\n            className={classes.btnStyle}\n            onClick={() => setEditOpen((prevState) => !prevState)}\n          >\n            Edit\n          </Button>\n          <DeleteDialog type=\"comment\" handleDelete={handleReplyDelete} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ReplyAndButtons;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}